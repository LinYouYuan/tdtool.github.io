{"version":3,"sources":["../../src/util/run-command.js"],"names":["format","time","toTimeString","replace","module","exports","run","fn","options","task","default","start","Date","console","log","name","then","end","getTime","catch","error","err","stack"],"mappings":";;AAOA;;AACA,SAASA,MAAT,CAAgBC,IAAhB,EAAsB;AACrB,SAAOA,KAAKC,YAAL,GAAoBC,OAApB,CAA4B,yBAA5B,EAAuD,IAAvD,CAAP;AACA,C,CAVD;;;;;;;AAYAC,OAAOC,OAAP,GAAiB,SAASC,GAAT,CAAaC,EAAb,EAAiBC,OAAjB,EAA0B;AAC1C,MAAMC,OAAO,OAAOF,GAAGG,OAAV,KAAsB,WAAtB,GAAoCH,EAApC,GAAyCA,GAAGG,OAAzD;AACA,MAAMC,QAAQ,IAAIC,IAAJ,EAAd;AACAC,UAAQC,GAAR,OAAgBd,OAAOW,KAAP,CAAhB,qBAA4CF,KAAKM,IAAjD;AACA,SAAON,KAAKD,OAAL,EAAcQ,IAAd,CAAmB,YAAM;AAC9B,QAAMC,MAAM,IAAIL,IAAJ,EAAZ;AACA,QAAMX,OAAOgB,IAAIC,OAAJ,KAAgBP,MAAMO,OAAN,EAA7B;AACAL,YAAQC,GAAR,OAAgBd,OAAOiB,GAAP,CAAhB,qBAA0CR,KAAKM,IAA/C,iBAA8Dd,IAA9D;AACD,GAJM,EAIJkB,KAJI,CAIE;AAAA,WAAON,QAAQO,KAAR,CAAcC,IAAIC,KAAlB,CAAP;AAAA,GAJF,CAAP;AAKA,CATD","file":"run-command.js","sourcesContent":["/**\n * @Author: Zhengfeng.Yao <yzf>\n * @Date:   2017-05-04 09:35:04\n * @Last modified by:   yzf\n * @Last modified time: 2017-05-04 09:35:06\n */\n\nimport 'babel-polyfill';\nfunction format(time) {\n return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\nmodule.exports = function run(fn, options) {\n const task = typeof fn.default === 'undefined' ? fn : fn.default;\n const start = new Date();\n console.log(`[${format(start)}] Starting '${task.name}'...`);\n return task(options).then(() => {\n   const end = new Date();\n   const time = end.getTime() - start.getTime();\n   console.log(`[${format(end)}] Finished '${task.name}' after ${time} ms`);\n }).catch(err => console.error(err.stack));\n};\n"]}