{"version":3,"sources":["../../src/util/exec.js"],"names":["module","exports","cmd","args","opts","command","sync","status","stderr","fatal","errMessage","process","exit"],"mappings":";;AAOA;;;;AACA;;;;;;AARA;;;;;;;AAUAA,OAAOC,OAAP,GAAiB,UAACC,GAAD,EAA2B;AAAA,MAArBC,IAAqB,uEAAhB,EAAgB;AAAA,MAAZC,IAAY,uEAAP,EAAO;;AAC1C,MAAMC,UAAU,qBAAMC,IAAN,CAAWJ,GAAX,EAAgBC,IAAhB,EAAsBC,IAAtB,CAAhB;AACA,MAAIC,QAAQE,MAAR,IAAkB,CAAtB,EAAyB;AACvB,QAAIF,QAAQG,MAAZ,EAAoB;AAClB,uBAAOC,KAAP,CAAaL,KAAKM,UAAL,IAAmBL,QAAQG,MAAxC;AACD;AACDG,YAAQC,IAAR,CAAa,CAAb;AACD;AACD,SAAOP,OAAP;AACD,CATD","file":"exec.js","sourcesContent":["/**\n * @Author: Zhengfeng.Yao <yzf>\n * @Date:   2017-05-03 14:23:05\n * @Last modified by:   yzf\n * @Last modified time: 2017-05-03 14:23:07\n */\n\nimport spawn from 'cross-spawn'\nimport logger from './logger'\n\nmodule.exports = (cmd, args=[], opts={}) => {\n  const command = spawn.sync(cmd, args, opts)\n  if (command.status == 1) {\n    if (command.stderr) {\n      logger.fatal(opts.errMessage || command.stderr)\n    }\n    process.exit(1)\n  }\n  return command\n}\n"]}