{"version":3,"sources":["../../src/util/load-extend.js"],"names":["installExtend","packageName","key","pluginExists","fatal","importExtend","extend","config","options","require","success","module","exports","_extends","Object","forEach","Boolean","Array","String","item"],"mappings":";;;;;;AAOA;;;;AACA;;;;;;AARA;;;;;;;AAUA,IAAMA,gBAAgB,SAAhBA,aAAgB,MAAO;AAC3B,MAAMC,0BAAwBC,GAA9B;AACA,MAAI,CAAC,aAAGC,YAAH,CAAgBF,WAAhB,CAAL,EAAmC;AACjC,qBAAOG,KAAP,qBAA+BH,WAA/B,sBAA0DA,WAA1D;AACD;AACF,CALD;;AAOA,IAAMI,eAAe,SAAfA,YAAe,CAACC,MAAD,EAASC,MAAT,EAAiBC,OAAjB,EAA6B;AAChDR,gBAAcM,MAAd;AACAG,sBAAkBH,MAAlB,EAA4BC,MAA5B,EAAoCC,OAApC;AACA,mBAAOE,OAAP,sBAAkCJ,MAAlC;AACD,CAJD;;AAMA;;;;;;AAMAK,OAAOC,OAAP,GAAiB,UAACC,QAAD,EAAWN,MAAX,EAAsB;AACrC,MAAI,aAAGO,MAAH,CAAUD,QAAV,CAAJ,EAAyB;AACvB,wBAAYA,YAAY,EAAxB,EAA4BE,OAA5B,CAAoC,eAAO;AACzC,UAAMP,UAAU,aAAGQ,OAAH,CAAWH,SAASX,GAAT,CAAX,IAA4B,IAA5B,GAAmCW,SAASX,GAAT,CAAnD;AACAG,mBAAaH,GAAb,EAAkBK,MAAlB,EAA0BC,OAA1B;AACD,KAHD;AAID,GALD,MAKO,IAAI,aAAGS,KAAH,CAASJ,QAAT,CAAJ,EAAwB;AAC7BA,aAASE,OAAT,CAAiB,gBAAQ;AACvB,UAAI,aAAGG,MAAH,CAAUC,IAAV,CAAJ,EAAqB;AACnBd,qBAAac,IAAb,EAAmBZ,MAAnB;AACD;AACD,UAAI,aAAGU,KAAH,CAASE,IAAT,CAAJ,EAAoB;AAClBd,qBAAac,KAAK,CAAL,CAAb,EAAsBZ,MAAtB,EAA8BY,KAAK,CAAL,CAA9B;AACD;AACF,KAPD;AAQD;AACF,CAhBD","file":"load-extend.js","sourcesContent":["/**\n * @Author: Zhengfeng.Yao <yzf>\n * @Date:   2017-05-02 18:48:10\n * @Last modified by:   yzf\n * @Last modified time: 2017-05-02 18:48:30\n */\n\nimport logger from './logger'\nimport is from './is'\n\nconst installExtend = key => {\n  const packageName = `tdtool-${key}`\n  if (!is.pluginExists(packageName)) {\n    logger.fatal(`Please install ${packageName}, run 'npm i ${packageName} -D'`)\n  }\n}\n\nconst importExtend = (extend, config, options) => {\n  installExtend(extend)\n  require(`tdtool-${extend}`)(config, options)\n  logger.success(`Loaded success: ${extend}`)\n}\n\n/**\n * 加载并装配插件\n *\n * @param  {array | object} _extends\n * @param  {Config} config\n */\nmodule.exports = (_extends, config) => {\n  if (is.Object(_extends)) {\n    Object.keys(_extends || {}).forEach(key => {\n      const options = is.Boolean(_extends[key]) ? null : _extends[key]\n      importExtend(key, config, options)\n    })\n  } else if (is.Array(_extends)) {\n    _extends.forEach(item => {\n      if (is.String(item)) {\n        importExtend(item, config)\n      }\n      if (is.Array(item)) {\n        importExtend(item[0], config, item[1])\n      }\n    })\n  }\n}\n"]}