{"version":3,"sources":["../../src/util/load-template.js"],"names":["loadTemplate","template","templates","String","filename","resolve","process","cwd","Object","name","prototype","hasOwnProperty","call","Array","forEach","item","fatal"],"mappings":";;;;;kBAawBA,Y;;AANxB;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAXA;;;;;;;AAae,SAASA,YAAT,CAAsBC,QAAtB,EAAgC;AAC7C,MAAIC,YAAY,EAAhB;AACA,MAAID,aAAa,IAAjB,EAAuB;AACrBC,cAAU,YAAV,IAA0B,iCAA1B;AACD,GAFD,MAEO,IAAI,aAAGC,MAAH,CAAUF,QAAV,CAAJ,EAAyB;AAC9BC,cAAU,YAAV,IAA0B,gCAAsB;AAC9CE,gBAAU,YADoC;AAE9CH,gBAAU,eAAKI,OAAL,CAAaC,QAAQC,GAAR,EAAb,EAA4BN,QAA5B;AAFoC,KAAtB,CAA1B;AAID,GALM,MAKA,IAAI,aAAGO,MAAH,CAAUP,QAAV,CAAJ,EAAyB;AAC9B,SAAK,IAAMQ,IAAX,IAAmBR,QAAnB,EAA6B;AAC3B,UAAIO,OAAOE,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCX,QAArC,EAA+CQ,IAA/C,CAAJ,EAA0D;AACxD,YAAI,aAAGN,MAAH,CAAUF,SAASQ,IAAT,CAAV,CAAJ,EAA+B;AAC7BP,oBAAUO,IAAV,IAAkB,gCAAsB;AACtCL,sBAAUK,IAD4B;AAEtCR,sBAAU,eAAKI,OAAL,CAAaC,QAAQC,GAAR,EAAb,EAA4BN,SAASQ,IAAT,CAA5B;AAF4B,WAAtB,CAAlB;AAID,SALD,MAKO;AACLR,mBAASQ,IAAT,EAAeL,QAAf,GAA0BH,SAASQ,IAAT,EAAeL,QAAf,IAA2BK,IAArD;AACAP,oBAAUO,IAAV,IAAkB,gCAAsBR,SAASQ,IAAT,CAAtB,CAAlB;AACD;AACF;AACF;AACF,GAdM,MAcA,IAAI,aAAGI,KAAH,CAASZ,QAAT,CAAJ,EAAwB;AAC7BA,aAASa,OAAT,CAAiB,gBAAQ;AACvB,UAAI,CAACC,KAAKX,QAAV,EAAoB;AAClB,yBAAOY,KAAP,CAAa,gCAAb;AACD;AACDd,gBAAUa,KAAKX,QAAf,IAA2B,gCAAsBW,IAAtB,CAA3B;AACD,KALD;AAMD;;AAED,SAAOb,SAAP;AACD","file":"load-template.js","sourcesContent":["/**\n * @Author: Zhengfeng.Yao <yzf>\n * @Date:   2017-04-28 09:42:44\n * @Last modified by:   yzf\n * @Last modified time: 2017-04-28 09:42:47\n */\n\nimport path from 'path'\nimport HtmlWebpackPlugin from 'html-webpack-plugin'\n\nimport is from './is'\nimport logger from './logger'\n\nexport default function loadTemplate(template) {\n  let templates = {}\n  if (template === true) {\n    templates['index.html'] = new HtmlWebpackPlugin()\n  } else if (is.String(template)) {\n    templates['index.html'] = new HtmlWebpackPlugin({\n      filename: 'index.html',\n      template: path.resolve(process.cwd(), template)\n    })\n  } else if (is.Object(template)) {\n    for (const name in template) {\n      if (Object.prototype.hasOwnProperty.call(template, name)) {\n        if (is.String(template[name])) {\n          templates[name] = new HtmlWebpackPlugin({\n            filename: name,\n            template: path.resolve(process.cwd(), template[name])\n          })\n        } else {\n          template[name].filename = template[name].filename || name\n          templates[name] = new HtmlWebpackPlugin(template[name])\n        }\n      }\n    }\n  } else if (is.Array(template)) {\n    template.forEach(item => {\n      if (!item.filename) {\n        logger.fatal('template filename is required.')\n      }\n      templates[item.filename] = new HtmlWebpackPlugin(item)\n    })\n  }\n\n  return templates\n}\n"]}